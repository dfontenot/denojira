/* esm.sh - react-redux@8.0.7 */
import{useSyncExternalStore as ut}from"/use-sync-external-store@^1.0.0/shim?target=es2020";import{useSyncExternalStoreWithSelector as at}from"/use-sync-external-store@^1.0.0/shim/with-selector?target=es2020";import{unstable_batchedUpdates as fe}from"/react-dom@^18.3.1?target=es2020";function Me(e){e()}var le=Me,de=e=>le=e,me=()=>le;import{useContext as Ve,useDebugValue as ke}from"/react@^18.3.1?target=es2020";import{useContext as Te}from"/react@^18.3.1?target=es2020";import{createContext as De}from"/react@^18.3.1?target=es2020";var m=De(null);function B(){return Te(m)}var z=()=>{throw new Error("uSES not initialized!")};var xe=z,ye=e=>{xe=e},Ie=(e,t)=>e===t;function he(e=m){let t=e===m?B:()=>Ve(e);return function(o,s=Ie){let{store:n,subscription:a,getServerState:c}=t(),u=xe(a.addNestedSub,n.getState,c||n.getState,o,s);return ke(u),u}}var Ae=he();function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},v.apply(null,arguments)}function q(e,t){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;r[o]=e[o]}return r}import Oe from"/hoist-non-react-statics@^3.3.2?target=es2020";import T,{useContext as Je,useMemo as w,useRef as N}from"/react@^18.3.1?target=es2020";import{isContextConsumer as Ge}from"/react-is@^18.0.0?target=es2020";var je=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function We(e,t,r,o,{areStatesEqual:s,areOwnPropsEqual:n,areStatePropsEqual:a}){let c=!1,u,i,p,f,l;function F(x,y){return u=x,i=y,p=e(u,i),f=t(o,i),l=r(p,f,i),c=!0,l}function E(){return p=e(u,i),t.dependsOnOwnProps&&(f=t(o,i)),l=r(p,f,i),l}function W(){return e.dependsOnOwnProps&&(p=e(u,i)),t.dependsOnOwnProps&&(f=t(o,i)),l=r(p,f,i),l}function d(){let x=e(u,i),y=!a(x,p);return p=x,y&&(l=r(p,f,i)),l}function R(x,y){let C=!n(y,i),G=!s(x,u,y,i);return u=x,i=y,C&&G?E():C?W():G?d():l}return function(y,C){return c?R(y,C):F(y,C)}}function oe(e,t){let{initMapStateToProps:r,initMapDispatchToProps:o,initMergeProps:s}=t,n=q(t,je),a=r(e,n),c=o(e,n),u=s(e,n);return We(a,c,u,e,n)}function ne(e,t){let r={};for(let o in e){let s=e[o];typeof s=="function"&&(r[o]=(...n)=>t(s(...n)))}return r}function j(e){return function(r){let o=e(r);function s(){return o}return s.dependsOnOwnProps=!1,s}}function Se(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function H(e,t){return function(o,{displayName:s}){let n=function(c,u){return n.dependsOnOwnProps?n.mapToProps(c,u):n.mapToProps(c,void 0)};return n.dependsOnOwnProps=!0,n.mapToProps=function(c,u){n.mapToProps=e,n.dependsOnOwnProps=Se(e);let i=n(c,u);return typeof i=="function"&&(n.mapToProps=i,n.dependsOnOwnProps=Se(i),i=n(c,u)),i},n}}function _(e,t){return(r,o)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${o.wrappedComponentName}.`)}}function be(e){return e&&typeof e=="object"?j(t=>ne(e,t)):e?typeof e=="function"?H(e,"mapDispatchToProps"):_(e,"mapDispatchToProps"):j(t=>({dispatch:t}))}function Pe(e){return e?typeof e=="function"?H(e,"mapStateToProps"):_(e,"mapStateToProps"):j(()=>({}))}function $e(e,t,r){return v({},r,e,t)}function Le(e){return function(r,{displayName:o,areMergedPropsEqual:s}){let n=!1,a;return function(u,i,p){let f=e(u,i,p);return n?s(f,a)||(a=f):(n=!0,a=f),a}}}function we(e){return e?typeof e=="function"?Le(e):_(e,"mergeProps"):()=>$e}function Be(){let e=me(),t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){let o=[],s=t;for(;s;)o.push(s),s=s.next;return o},subscribe(o){let s=!0,n=r={callback:o,next:null,prev:r};return n.prev?n.prev.next=n:t=n,function(){!s||t===null||(s=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}var Ce={notify(){},get:()=>[]};function Y(e,t){let r,o=Ce;function s(f){return u(),o.subscribe(f)}function n(){o.notify()}function a(){p.onStateChange&&p.onStateChange()}function c(){return!!r}function u(){r||(r=t?t.addNestedSub(a):e.subscribe(a),o=Be())}function i(){r&&(r(),r=void 0,o.clear(),o=Ce)}let p={addNestedSub:s,notifyNestedSubs:n,handleChangeWrapper:a,isSubscribed:c,trySubscribe:u,tryUnsubscribe:i,getListeners:()=>o};return p}import{useEffect as ze,useLayoutEffect as qe}from"/react@^18.3.1?target=es2020";var He=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M=He?qe:ze;function ge(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function D(e,t){if(ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!ge(e[r[s]],t[r[s]]))return!1;return!0}var Ye=["reactReduxForwardedRef"],ve=z,Ee=e=>{ve=e};var Ke=[null,null];function Qe(e,t,r){M(()=>e(...t),r)}function Xe(e,t,r,o,s,n){e.current=o,r.current=!1,s.current&&(s.current=null,n())}function Ze(e,t,r,o,s,n,a,c,u,i,p){if(!e)return()=>{};let f=!1,l=null,F=()=>{if(f||!c.current)return;let W=t.getState(),d,R;try{d=o(W,s.current)}catch(x){R=x,l=x}R||(l=null),d===n.current?a.current||i():(n.current=d,u.current=d,a.current=!0,p())};return r.onStateChange=F,r.trySubscribe(),F(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,l)throw l}}function et(e,t){return e===t}function tt(e,t,r,{pure:o,areStatesEqual:s=et,areOwnPropsEqual:n=D,areStatePropsEqual:a=D,areMergedPropsEqual:c=D,forwardRef:u=!1,context:i=m}={}){let p=i,f=Pe(e),l=be(t),F=we(r),E=!!e;return d=>{let R=d.displayName||d.name||"Component",x=`Connect(${R})`,y={shouldHandleStateChanges:E,displayName:x,wrappedComponentName:R,WrappedComponent:d,initMapStateToProps:f,initMapDispatchToProps:l,initMergeProps:F,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:n,areMergedPropsEqual:c};function C(S){let[b,K,g]=w(()=>{let{reactReduxForwardedRef:h}=S,U=q(S,Ye);return[S.context,h,U]},[S]),V=w(()=>b&&b.Consumer&&Ge(T.createElement(b.Consumer,null))?b:p,[b,p]),P=Je(V),k=!!S.store&&!!S.store.getState&&!!S.store.dispatch,Fe=!!P&&!!P.store,O=k?S.store:P.store,ie=Fe?P.getServerState:O.getState,Q=w(()=>oe(O.dispatch,y),[O]),[I,ce]=w(()=>{if(!E)return Ke;let h=Y(O,k?void 0:P.subscription),U=h.notifyNestedSubs.bind(h);return[h,U]},[O,k,P]),ue=w(()=>k?P:v({},P,{subscription:I}),[k,P,I]),X=N(),Z=N(g),A=N(),ae=N(!1),pt=N(!1),ee=N(!1),te=N();M(()=>(ee.current=!0,()=>{ee.current=!1}),[]);let pe=w(()=>()=>A.current&&g===Z.current?A.current:Q(O.getState(),g),[O,g]),_e=w(()=>U=>I?Ze(E,O,I,Q,Z,X,ae,ee,A,ce,U):()=>{},[I]);Qe(Xe,[Z,X,ae,g,A,ce]);let L;try{L=ve(_e,pe,ie?()=>Q(ie(),g):pe)}catch(h){throw te.current&&(h.message+=`
The error may be correlated with this previous error:
${te.current.stack}

`),h}M(()=>{te.current=void 0,A.current=void 0,X.current=L});let re=w(()=>T.createElement(d,v({},L,{ref:K})),[K,d,L]);return w(()=>E?T.createElement(V.Provider,{value:ue},re):re,[V,re,ue])}let $=T.memo(C);if($.WrappedComponent=d,$.displayName=C.displayName=x,u){let b=T.forwardRef(function(g,V){return T.createElement($,v({},g,{reactReduxForwardedRef:V}))});return b.displayName=x,b.WrappedComponent=d,Oe(b,d)}return Oe($,d)}}var rt=tt;import ot,{useMemo as Re}from"/react@^18.3.1?target=es2020";function nt({store:e,context:t,children:r,serverState:o}){let s=Re(()=>{let c=Y(e);return{store:e,subscription:c,getServerState:o?()=>o:void 0}},[e,o]),n=Re(()=>e.getState(),[e]);M(()=>{let{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),n!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,n]);let a=t||m;return ot.createElement(a.Provider,{value:s},r)}var st=nt;import{useContext as it}from"/react@^18.3.1?target=es2020";function J(e=m){let t=e===m?B:()=>it(e);return function(){let{store:o}=t();return o}}var se=J();function Ne(e=m){let t=e===m?se:J(e);return function(){return t().dispatch}}var ct=Ne();ye(at);Ee(ut);de(fe);export{st as Provider,m as ReactReduxContext,fe as batch,rt as connect,Ne as createDispatchHook,he as createSelectorHook,J as createStoreHook,D as shallowEqual,ct as useDispatch,Ae as useSelector,se as useStore};
//# sourceMappingURL=react-redux.mjs.map