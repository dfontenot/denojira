/* esm.sh - esbuild bundle(react-redux@8.0.5) es2020 production */
import{useSyncExternalStore as pt}from"/v99/use-sync-external-store@1.2.0/es2020/shim.js";import{useSyncExternalStoreWithSelector as ft}from"/v99/use-sync-external-store@1.2.0/es2020/shim/with-selector.js";import{unstable_batchedUpdates as pe}from"/v99/react-dom@18.2.0/es2020/react-dom.js";function Me(e){e()}var fe=Me,le=e=>fe=e,de=()=>fe;import{useContext as Te,useDebugValue as Ve}from"/stable/react@18.2.0/es2020/react.js";import{useContext as _e}from"/stable/react@18.2.0/es2020/react.js";import{createContext as De}from"/stable/react@18.2.0/es2020/react.js";var m=De(null);function j(){return _e(m)}var B=()=>{throw new Error("uSES not initialized!")};var me=B,xe=e=>{me=e},ke=(e,t)=>e===t;function ye(e=m){let t=e===m?j:()=>Te(e);return function(n,s=ke){let{store:r,subscription:a,getServerState:c}=t(),u=me(a.addNestedSub,r.getState,c||r.getState,n,s);return Ve(u),u}}var Ie=ye();import oe from"/v99/@babel/runtime@7.20.6/es2020/helpers/esm/extends.js";import Je from"/v99/@babel/runtime@7.20.6/es2020/helpers/esm/objectWithoutPropertiesLoose.js";import ge from"/v99/hoist-non-react-statics@3.3.2/es2020/hoist-non-react-statics.js";import _,{useContext as Ke,useMemo as w,useRef as R}from"/stable/react@18.2.0/es2020/react.js";import{isContextConsumer as Qe}from"/v99/react-is@18.2.0/es2020/react-is.js";import Ue from"/v99/@babel/runtime@7.20.6/es2020/helpers/esm/objectWithoutPropertiesLoose.js";var $e=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function We(e,t,o,n,{areStatesEqual:s,areOwnPropsEqual:r,areStatePropsEqual:a}){let c=!1,u,i,p,f,l;function N(x,y){return u=x,i=y,p=e(u,i),f=t(n,i),l=o(p,f,i),c=!0,l}function E(){return p=e(u,i),t.dependsOnOwnProps&&(f=t(n,i)),l=o(p,f,i),l}function $(){return e.dependsOnOwnProps&&(p=e(u,i)),t.dependsOnOwnProps&&(f=t(n,i)),l=o(p,f,i),l}function d(){let x=e(u,i),y=!a(x,p);return p=x,y&&(l=o(p,f,i)),l}function v(x,y){let C=!r(y,i),Y=!s(x,u,y,i);return u=x,i=y,C&&Y?E():C?$():Y?d():l}return function(y,C){return c?v(y,C):N(y,C)}}function te(e,t){let{initMapStateToProps:o,initMapDispatchToProps:n,initMergeProps:s}=t,r=Ue(t,$e),a=o(e,r),c=n(e,r),u=s(e,r);return We(a,c,u,e,r)}function re(e,t){let o={};for(let n in e){let s=e[n];typeof s=="function"&&(o[n]=(...r)=>t(s(...r)))}return o}function U(e){return function(o){let n=e(o);function s(){return n}return s.dependsOnOwnProps=!1,s}}function he(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):e.length!==1}function z(e,t){return function(n,{displayName:s}){let r=function(c,u){return r.dependsOnOwnProps?r.mapToProps(c,u):r.mapToProps(c,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(c,u){r.mapToProps=e,r.dependsOnOwnProps=he(e);let i=r(c,u);return typeof i=="function"&&(r.mapToProps=i,r.dependsOnOwnProps=he(i),i=r(c,u)),i},r}}function F(e,t){return(o,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Se(e){return e&&typeof e=="object"?U(t=>re(e,t)):e?typeof e=="function"?z(e,"mapDispatchToProps"):F(e,"mapDispatchToProps"):U(t=>({dispatch:t}))}function be(e){return e?typeof e=="function"?z(e,"mapStateToProps"):F(e,"mapStateToProps"):U(()=>({}))}import Le from"/v99/@babel/runtime@7.20.6/es2020/helpers/esm/extends.js";function je(e,t,o){return Le({},o,e,t)}function Be(e){return function(o,{displayName:n,areMergedPropsEqual:s}){let r=!1,a;return function(u,i,p){let f=e(u,i,p);return r?s(f,a)||(a=f):(r=!0,a=f),a}}}function Pe(e){return e?typeof e=="function"?Be(e):F(e,"mergeProps"):()=>je}function ze(){let e=de(),t=null,o=null;return{clear(){t=null,o=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0,r=o={callback:n,next:null,prev:o};return r.prev?r.prev.next=r:t=r,function(){!s||t===null||(s=!1,r.next?r.next.prev=r.prev:o=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var we={notify(){},get:()=>[]};function q(e,t){let o,n=we;function s(f){return u(),n.subscribe(f)}function r(){n.notify()}function a(){p.onStateChange&&p.onStateChange()}function c(){return Boolean(o)}function u(){o||(o=t?t.addNestedSub(a):e.subscribe(a),n=ze())}function i(){o&&(o(),o=void 0,n.clear(),n=we)}let p={addNestedSub:s,notifyNestedSubs:r,handleChangeWrapper:a,isSubscribed:c,trySubscribe:u,tryUnsubscribe:i,getListeners:()=>n};return p}import{useEffect as qe,useLayoutEffect as He}from"/stable/react@18.2.0/es2020/react.js";var Ye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M=Ye?He:qe;function Ce(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function D(e,t){if(Ce(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;let o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(let s=0;s<o.length;s++)if(!Object.prototype.hasOwnProperty.call(t,o[s])||!Ce(e[o[s]],t[o[s]]))return!1;return!0}var Ge=["reactReduxForwardedRef"],Oe=B,Ee=e=>{Oe=e};var Xe=[null,null];function Ze(e,t,o){M(()=>e(...t),o)}function et(e,t,o,n,s,r){e.current=n,o.current=!1,s.current&&(s.current=null,r())}function tt(e,t,o,n,s,r,a,c,u,i,p){if(!e)return()=>{};let f=!1,l=null,N=()=>{if(f||!c.current)return;let $=t.getState(),d,v;try{d=n($,s.current)}catch(x){v=x,l=x}v||(l=null),d===r.current?a.current||i():(r.current=d,u.current=d,a.current=!0,p())};return o.onStateChange=N,o.trySubscribe(),N(),()=>{if(f=!0,o.tryUnsubscribe(),o.onStateChange=null,l)throw l}}function rt(e,t){return e===t}function ot(e,t,o,{pure:n,areStatesEqual:s=rt,areOwnPropsEqual:r=D,areStatePropsEqual:a=D,areMergedPropsEqual:c=D,forwardRef:u=!1,context:i=m}={}){let p=i,f=be(e),l=Se(t),N=Pe(o),E=Boolean(e);return d=>{let v=d.displayName||d.name||"Component",x=`Connect(${v})`,y={shouldHandleStateChanges:E,displayName:x,wrappedComponentName:v,WrappedComponent:d,initMapStateToProps:f,initMapDispatchToProps:l,initMergeProps:N,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:r,areMergedPropsEqual:c};function C(S){let[b,J,g]=w(()=>{let{reactReduxForwardedRef:h}=S,A=Je(S,Ge);return[S.context,h,A]},[S]),T=w(()=>b&&b.Consumer&&Qe(_.createElement(b.Consumer,null))?b:p,[b,p]),P=Ke(T),V=Boolean(S.store)&&Boolean(S.store.getState)&&Boolean(S.store.dispatch),Ne=Boolean(P)&&Boolean(P.store),O=V?S.store:P.store,se=Ne?P.getServerState:O.getState,G=w(()=>te(O.dispatch,y),[O]),[k,ie]=w(()=>{if(!E)return Xe;let h=q(O,V?void 0:P.subscription),A=h.notifyNestedSubs.bind(h);return[h,A]},[O,V,P]),ce=w(()=>V?P:oe({},P,{subscription:k}),[V,P,k]),K=R(),Q=R(g),I=R(),ue=R(!1),lt=R(!1),X=R(!1),Z=R();M(()=>(X.current=!0,()=>{X.current=!1}),[]);let ae=w(()=>()=>I.current&&g===Q.current?I.current:G(O.getState(),g),[O,g]),Fe=w(()=>A=>k?tt(E,O,k,G,Q,K,ue,X,I,ie,A):()=>{},[k]);Ze(et,[Q,K,ue,g,I,ie]);let L;try{L=Oe(Fe,ae,se?()=>G(se(),g):ae)}catch(h){throw Z.current&&(h.message+=`
The error may be correlated with this previous error:
${Z.current.stack}

`),h}M(()=>{Z.current=void 0,I.current=void 0,K.current=L});let ee=w(()=>_.createElement(d,oe({},L,{ref:J})),[J,d,L]);return w(()=>E?_.createElement(T.Provider,{value:ce},ee):ee,[T,ee,ce])}let W=_.memo(C);if(W.WrappedComponent=d,W.displayName=C.displayName=x,u){let b=_.forwardRef(function(g,T){return _.createElement(W,oe({},g,{reactReduxForwardedRef:T}))});return b.displayName=x,b.WrappedComponent=d,ge(b,d)}return ge(W,d)}}var nt=ot;import st,{useMemo as ve}from"/stable/react@18.2.0/es2020/react.js";function it({store:e,context:t,children:o,serverState:n}){let s=ve(()=>{let c=q(e);return{store:e,subscription:c,getServerState:n?()=>n:void 0}},[e,n]),r=ve(()=>e.getState(),[e]);M(()=>{let{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),r!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,r]);let a=t||m;return st.createElement(a.Provider,{value:s},o)}var ct=it;import{useContext as ut}from"/stable/react@18.2.0/es2020/react.js";function H(e=m){let t=e===m?j:()=>ut(e);return function(){let{store:n}=t();return n}}var ne=H();function Re(e=m){let t=e===m?ne:H(e);return function(){return t().dispatch}}var at=Re();xe(ft);Ee(pt);le(pe);export{ct as Provider,m as ReactReduxContext,pe as batch,nt as connect,Re as createDispatchHook,ye as createSelectorHook,H as createStoreHook,D as shallowEqual,at as useDispatch,Ie as useSelector,ne as useStore};
